<template>
  <div class="topbar">
    <img src="@/assets/img/intellisense-logo.png" alt="intellisense-logo" class="w-[140px]">
    <h1 class="font-bold text-2xl">DevicesNet</h1>
  </div>
  <aside class="sidebar">
    <div class="sidebar-body">
      <sideNavIcon  :isActive="isDataActive" :route="{name: 'Dashboard'}" menuName="Data Analytics" path="M31.75 28.75H10.25V9.25C10.25 9.1125 10.1375 9 10 9H8.25C8.1125 9 8 9.1125 8 9.25V30.75C8 30.8875 8.1125 31 8.25 31H31.75C31.8875 31 32 30.8875 32 30.75V29C32 28.8625 31.8875 28.75 31.75 28.75ZM13 26.25H14.75C14.8875 26.25 15 26.1375 15 26V21.5C15 21.3625 14.8875 21.25 14.75 21.25H13C12.8625 21.25 12.75 21.3625 12.75 21.5V26C12.75 26.1375 12.8625 26.25 13 26.25ZM17.75 26.25H19.5C19.6375 26.25 19.75 26.1375 19.75 26V16C19.75 15.8625 19.6375 15.75 19.5 15.75H17.75C17.6125 15.75 17.5 15.8625 17.5 16V26C17.5 26.1375 17.6125 26.25 17.75 26.25ZM22.5 26.25H24.25C24.3875 26.25 24.5 26.1375 24.5 26V18.4375C24.5 18.3 24.3875 18.1875 24.25 18.1875H22.5C22.3625 18.1875 22.25 18.3 22.25 18.4375V26C22.25 26.1375 22.3625 26.25 22.5 26.25ZM27.25 26.25H29C29.1375 26.25 29.25 26.1375 29.25 26V13.5C29.25 13.3625 29.1375 13.25 29 13.25H27.25C27.1125 13.25 27 13.3625 27 13.5V26C27 26.1375 27.1125 26.25 27.25 26.25Z" />
      <sideNavIcon  :isActive="isDevicesActive" :route="{name: 'Devices List'}" menuName="Devices" path="M34.8 10.6097L21.05 3.08318C20.7285 2.90563 20.3673 2.8125 20 2.8125C19.6327 2.8125 19.2715 2.90563 18.95 3.08318L5.2 10.6113C4.85595 10.7996 4.56883 11.0768 4.36871 11.4141C4.16859 11.7514 4.06283 12.1363 4.0625 12.5285V27.4722C4.06283 27.8644 4.16859 28.2493 4.36871 28.5866C4.56883 28.9239 4.85595 29.2012 5.2 29.3894L18.95 36.9176C19.2716 37.0948 19.6328 37.1878 20 37.1878C20.3672 37.1878 20.7284 37.0948 21.05 36.9176L34.8 29.3894C35.1441 29.2012 35.4312 28.9239 35.6313 28.5866C35.8314 28.2493 35.9372 27.8644 35.9375 27.4722V12.5285C35.9375 12.136 35.8318 11.7508 35.6317 11.4132C35.4316 11.0757 35.1443 10.7981 34.8 10.6097ZM19.8438 4.72693C19.8897 4.70177 19.9413 4.68858 19.9937 4.68858C20.0462 4.68858 20.0978 4.70177 20.1437 4.72693L33.2047 11.8754L20 19.1004L6.79531 11.8754L19.8438 4.72693ZM6.09375 27.7457C6.04583 27.718 6.00611 27.6781 5.97866 27.6301C5.95121 27.582 5.937 27.5276 5.9375 27.4722V13.541L19.0625 20.7285V34.8441L6.09375 27.7457ZM33.8937 27.7457L20.9375 34.8441V20.7254L34.0625 13.5379V27.4691C34.0636 27.525 34.0496 27.5801 34.0221 27.6287C33.9947 27.6774 33.9546 27.7178 33.9062 27.7457H33.8937Z" />
    </div>
    <div class="sidebar-foot">
      <sideNavIcon @click="signOut" :route="{name: 'Login Page'}" menuName="Logout" path="M10.4486 16.7628C9.88219 17.4065 10.3354 18.4178 11.1928 18.4234L21.9155 18.4935C22.4652 18.4971 22.909 18.947 22.909 19.4967V19.4967C22.909 20.049 22.4613 20.5 21.909 20.5L11.1741 20.5C10.3198 20.5 9.85885 21.5021 10.4149 22.1508L11.3973 23.2969C11.7373 23.6937 11.7146 24.2853 11.3451 24.6548L11.2385 24.7614C10.8359 25.164 10.179 25.1498 9.79423 24.7301L5.61941 20.1757C5.26895 19.7934 5.26895 19.2066 5.6194 18.8243L9.79415 14.2699C10.1789 13.8502 10.8358 13.8359 11.2384 14.2385L11.2499 14.25L11.3365 14.3366C11.7095 14.7096 11.7286 15.3083 11.3801 15.7043L10.4486 16.7628ZM11.1218 29.7849C10.5424 29.1995 10.9925 28.2727 11.8162 28.2727H13.379C13.6226 28.2727 13.8567 28.363 14.0445 28.5181C15.6703 29.8607 17.6325 30.7378 19.7223 31.0523C21.9367 31.3855 24.2003 31.0726 26.2414 30.1513C28.2824 29.2299 30.0143 27.7392 31.2291 25.8579C32.4439 23.9767 33.0901 21.7848 33.0901 19.5455C33.0901 17.3061 32.4439 15.1142 31.2291 13.233C30.0143 11.3518 28.2824 9.86101 26.2414 8.93964C24.2003 8.01827 21.9367 7.70542 19.7223 8.03863C17.6325 8.35308 15.6703 9.23025 14.0445 10.5728C13.8567 10.7279 13.6226 10.8182 13.379 10.8182H11.8162C10.9925 10.8182 10.5424 9.89145 11.1218 9.30606C12.2343 8.18228 13.526 7.24446 14.9484 6.5333C16.9683 5.52331 19.196 4.99831 21.4544 5C29.4879 5 35.9999 11.512 35.9999 19.5455C35.9999 27.5789 29.4879 34.0909 21.4544 34.0909C19.196 34.0926 16.9683 33.5676 14.9484 32.5576C13.526 31.8465 12.2343 30.9086 11.1218 29.7849Z"/>
    </div>
  </aside>
</template>

<script setup>
import { useAuthStore } from '@/stores/AuthStore'
import { defineProps } from 'vue';
import sideNavIcon from '@/components/navigation/sideNavIcon.vue'
  
const props = defineProps({
  isDevicesActive: {
    type: Boolean,
    default: false
  },
  isMapsActive: {
    type: Boolean,
    default: false
  },
  isDataActive: {
    type: Boolean,
    default: false
  },
  isSettingActive: {
    type: Boolean,
    default: false
  }
}) 

  const authStore = useAuthStore();

  async function signOut() {
      await authStore.signOut();
  }
  const goBack = () => {
      router.go(-1);
  };
 
</script>

<style scoped>

.sidebar {
@apply 
  h-screen w-[60px] pt-[94px] pb-6
  bg-white 
  fixed z-10 flex flex-col gap-10 justify-between
  transition-all ease-in-out duration-200
  top-0 left-0
  border-r border-[#D5DADD]

}
.topbar {
@apply 
  w-screen h-[60px] pl-4 pr-8
  bg-white
  fixed z-40 flex gap-2 justify-between items-center
  transition-all ease-in-out duration-200
  top-0 left-0
  border-b border-[#D5DADD]
}
.topbar-header {
@apply 
  p-1 
}

.sidebar-body {
  @apply 
    flex flex-col justify-center items-center gap-8
}
.sidebar-body img {
  @apply 
    h-8
}
.sidebar-foot {
  @apply 
    flex justify-center items-center w-full
}


 
</style>